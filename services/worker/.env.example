# Worker Service Configuration
# Copy this file to .env and customize as needed for local development

# Node Environment
NODE_ENV=development

# Port for the worker HTTP server
# The worker runs locally (NOT in Docker) and serves Inngest functions
# Default: 3001
WORKER_PORT=3001

# Inngest Dev Server URL
# For local development with Inngest Dev Server (docker compose up inngest)
# Use localhost since worker runs outside Docker
# Default: http://localhost:8288
INNGEST_URL=http://localhost:8288

# Inngest Development Mode
# Set to 1 or true for local development (disables authentication)
# Default: 1
INNGEST_DEV=1

# Inngest Serve Path
# Path where Inngest functions are served by the worker
# Default: /api/inngest
INNGEST_SERVE_PATH=/api/inngest

# Worker Concurrency
# Maximum number of concurrent task executions (matches FR-018)
# Default: 10
WORKER_CONCURRENCY=10

# Database Connection (shared with main application)
# Use localhost since worker runs outside Docker
# PostgreSQL runs in Docker and is exposed on port 5433 (see docker-compose.yml)
DATABASE_HOST=localhost
DATABASE_PORT=5433
DATABASE_NAME=algojuke
DATABASE_USER=algojuke_user
DATABASE_PASSWORD=change_me_in_production

# Inngest Cloud Configuration (Production Only)
# Leave empty for local development with Inngest Dev Server
# Required only when deploying to production with Inngest Cloud

# Inngest Event Key (for Inngest Cloud)
# Obtain from: https://www.inngest.com/docs/platform/events/event-keys
INNGEST_EVENT_KEY=

# Inngest Signing Key (for Inngest Cloud)
# Obtain from: https://www.inngest.com/docs/platform/signing-keys
INNGEST_SIGNING_KEY=

# External API Keys (for future enrichment workflows)
# These will be used in follow-up feature implementation
# TIDAL_API_KEY=your_tidal_key_here
# LYRICS_API_KEY=your_lyrics_key_here
# OPENAI_API_KEY=your_openai_key_here

# Langfuse Observability Configuration
# Dashboard: http://localhost:3000
# Default login: admin@localhost.dev / adminadmin
#
# This project tracks ingestion pipeline operations (background tasks, enrichment).
# Create 'algojuke-ingestion' project manually in Langfuse dashboard:
#   1. Log in at http://localhost:3000
#   2. Go to Settings > Projects > Create Project
#   3. Name it 'algojuke-ingestion'
#   4. Copy the API keys below
LANGFUSE_BASE_URL=http://localhost:3000
LANGFUSE_PUBLIC_KEY=pk-lf-ingestion-dev
LANGFUSE_SECRET_KEY=sk-lf-ingestion-dev
LANGFUSE_ENABLED=true
